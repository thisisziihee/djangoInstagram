{% extends 'base.html' %}
{% block body %}
<div id = "login">
    <div class = "container">
        <br>
        <h2 class = "text-center text-success">LOGIN</h2>
        <hr>
        <div class = "form-group col-md-6">
            <label for = "username" class = "text-success">Username : </label><br>
            <input type = "text" name = "username" id = "username" class = "form-control">
        </div>
        <div class = "form-group col-md-6">
            <label for = "password" class = "text-success">password : </label><br>
            <input type = "password" name = "password" id = "password" class = "form-control">
        </div>
        <div class = "form-group col-md-6">
            <div class = "row">
                <input type = "submit" id = "loginButton" class = "form-control btn btn-success" value = "submit">
            </div>
        </div>
        <div class = "form-group col-md-6">
            <div class = "row">
                <a href = "{% url 'register' %}" class = "form-control btn btn-outline-success">Register Here</a>
            </div>
        </div>
    </div>
</div>

<script src = "https://code.jquery.com/jquery-3.4.1.in.js"
        integrity = "sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin = "anonymous"></script>

<script>
    $(document).ready(function() {
        $('#loginButton').click(function() {
            $.post('/apis/user/login/', 
            {'username' : $('#username').val(), 'password' : $('#password').val()},
            function(){
                location.reload();
            }).fail(function(data){
                alert(data.responseJSON.message);
            });
        });
    });
</script>

{% endblock %}